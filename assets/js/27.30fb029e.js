(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{392:function(a,t,s){"use strict";s.r(t);var r=s(25),e=Object(r.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"docker安装gitlab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装gitlab"}},[a._v("#")]),a._v(" docker安装gitlab")]),a._v(" "),s("p",[s("code",[a._v("gitlab")]),a._v("类似于"),s("code",[a._v("github")]),a._v("，可以搭建到公司的私有服务器，对代码的隐私性有保障，另外，它也提供了丰富的功能，比如进行持续集成、代码审核，非常方便。")]),a._v(" "),s("p",[a._v("使用"),s("code",[a._v("docker")]),a._v("安装，很简单。")]),a._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("h3",{attrs:{id:"下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[a._v("#")]),a._v(" 下载")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo docker pull gitlab/gitlab-ce\n")])])]),s("h3",{attrs:{id:"运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行"}},[a._v("#")]),a._v(" 运行")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo docker run -p 443:443  -p 80:80 -p 22:22  --volume ~/docker/gitlab/config:/etc/gitlab --name gitlab gitlab/gitlab-ce\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),s("p",[s("code",[a._v("gitlab")]),a._v("体量比较大，启动比较耗时，如果运行成功，没有报错，以后可以在后台运行，在"),s("code",[a._v("run")]),a._v("后面添加"),s("code",[a._v("-d")]),a._v("参数。")])]),a._v(" "),s("p",[a._v("已经运行过后，下次就可以直接用命名启动了：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo docker start gitlab\n")])])]),s("h3",{attrs:{id:"停止"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#停止"}},[a._v("#")]),a._v(" 停止")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo docker stop gitlab\n")])])]),s("h2",{attrs:{id:"gitlab-runner"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-runner"}},[a._v("#")]),a._v(" gitlab-runner")]),a._v(" "),s("p",[s("code",[a._v("gitlab-runner")]),a._v("的详细介绍与使用，参考我的"),s("a",{attrs:{href:"../cicd/gitlab"}},[a._v("这篇文章")])]),a._v(" "),s("h3",{attrs:{id:"下载-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载-2"}},[a._v("#")]),a._v(" 下载")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker pull gitlab/gitlab-runner\n")])])]),s("h3",{attrs:{id:"运行-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行-2"}},[a._v("#")]),a._v(" 运行")]),a._v(" "),s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("docker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("d "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("name gitlab"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("runner "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("restart always "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("v "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("docker"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("gitlab"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("runner"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("config:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("etc"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("gitlab"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("runner "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("v "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("docker"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("gitlab"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("runner"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("run"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("sock:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("run"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("sock gitlab"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("gitlab"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("runner\t  \n")])])]),s("blockquote",[s("p",[a._v("如果需要搭建npm私有仓库，可以参考"),s("a",{attrs:{href:"./npm"}},[a._v("这篇")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);