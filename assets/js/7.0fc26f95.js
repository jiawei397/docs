(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{364:function(A,e,v){A.exports=v.p+"assets/img/gitlab-app.e8ca36ed.png"},365:function(A,e){A.exports="data:image/png;base64,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"},386:function(A,e,v){"use strict";v.r(e);var t=v(25),s=Object(t.a)({},(function(){var A=this,e=A.$createElement,t=A._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":A.$parent.slotKey}},[t("h1",{attrs:{id:"记一次sonar与gitlab集成的坑"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#记一次sonar与gitlab集成的坑"}},[A._v("#")]),A._v(" 记一次sonar与gitlab集成的坑")]),A._v(" "),t("p",[t("code",[A._v("Sonar")]),A._v("（"),t("code",[A._v("SonarQube")]),A._v("）是一个开源平台，用于管理源代码的质量。"),t("code",[A._v("Sonar")]),A._v("不只是一个质量数据报告工具，更是代码质量管理平台。常见的语言都支持。")]),A._v(" "),t("p",[A._v("公司最近要做代码静态漏洞分析，调研了几款产品（"),t("code",[A._v("cobra")]),A._v("、"),t("code",[A._v("fortify")]),A._v("、"),t("code",[A._v("源伞科技")]),A._v("等）后，选择"),t("code",[A._v("SonarQube")]),A._v("暂时先用起来。后期可以考虑付费版本。")]),A._v(" "),t("p",[A._v("用"),t("code",[A._v("docker")]),A._v("安装了"),t("a",{attrs:{href:"https://hub.docker.com/_/sonarqube/",target:"_blank",rel:"noopener noreferrer"}},[t("code",[A._v("SonarQube")]),t("OutboundLink")],1),A._v("的最新版本（"),t("code",[A._v("8.6.0")]),A._v("），挺方便：")]),A._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[A._v("docker pull sonarqube\ndocker run -d --name sonarqube -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[A._v("SONAR_ES_BOOTSTRAP_CHECKS_DISABLE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[A._v("=")]),A._v("true -p "),t("span",{pre:!0,attrs:{class:"token number"}},[A._v("9000")]),A._v(":9000 sonarqube\n")])])]),t("p",[A._v("本地用"),t("code",[A._v("http://localhost:9000")]),A._v("就可以看到操作界面，用户名和密码初始都是"),t("code",[A._v("admin")]),A._v("。")]),A._v(" "),t("p",[A._v("集成"),t("code",[A._v("gitlab")]),A._v("时遇到一些坑，在此记录一下。")]),A._v(" "),t("h2",{attrs:{id:"gitlab申请令牌"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gitlab申请令牌"}},[A._v("#")]),A._v(" gitlab申请令牌")]),A._v(" "),t("p",[A._v("可以在"),t("code",[A._v("设置-应用")]),A._v("中操作，也可以在"),t("code",[A._v("管理中心-应用")]),A._v("中操作，效果是一样的。")]),A._v(" "),t("p",[A._v("具体步骤也可以看"),t("a",{attrs:{href:"https://docs.sonarqube.org/latest/analysis/gitlab-integration/",target:"_blank",rel:"noopener noreferrer"}},[A._v("官网"),t("OutboundLink")],1),A._v("。")]),A._v(" "),t("p",[A._v("新建一个应用，写入名称，随便写，一般是"),t("code",[A._v("SonarQube")]),A._v("，地址"),t("code",[A._v("http://192.168.21.176:9000/oauth2/callback/gitlab")]),A._v("，前面"),t("code",[A._v("ip")]),A._v("和端口部分，写你的"),t("code",[A._v("sonar")]),A._v("服务器的地址。最好用"),t("code",[A._v("https")]),A._v("，但不用也可以。")]),A._v(" "),t("p",[A._v("范围勾选"),t("code",[A._v("api")]),A._v("和"),t("code",[A._v("read_user")]),A._v("这两个。点提交后，可以看到以下页面：")]),A._v(" "),t("p",[t("img",{attrs:{src:v(364),alt:"app"}})]),A._v(" "),t("p",[A._v("上面的"),t("code",[A._v("应用程序ID")]),A._v("和密码，就要复制在下一步的"),t("code",[A._v("sonar")]),A._v("配置页面。")]),A._v(" "),t("h2",{attrs:{id:"sonar页面找到gitlab"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sonar页面找到gitlab"}},[A._v("#")]),A._v(" sonar页面找到gitlab")]),A._v(" "),t("p",[A._v("在顶部菜单栏，找到"),t("code",[A._v("Administration")]),A._v("，打开左侧第一个"),t("code",[A._v("Configuration")]),A._v("，再"),t("code",[A._v("ALM Integrations")]),A._v("，可以看到"),t("code",[A._v("github")]),A._v("和"),t("code",[A._v("gitlab")]),A._v("集成。")]),A._v(" "),t("p",[A._v("我们在"),t("code",[A._v("gitlab")]),A._v("页面，主要做以下几项：")]),A._v(" "),t("ul",[t("li",[A._v("勾选"),t("code",[A._v("Enabled")])]),A._v(" "),t("li",[A._v("输入"),t("code",[A._v("GitLab URL")])]),A._v(" "),t("li",[A._v("填入上一步的"),t("code",[A._v("Application ID")]),A._v("和"),t("code",[A._v("Secret")])]),A._v(" "),t("li",[A._v("勾选"),t("code",[A._v("Allow users to sign-up")])]),A._v(" "),t("li",[A._v("勾选"),t("code",[A._v("Synchronize user groups")])])]),A._v(" "),t("p",[A._v("我主要就被坑在"),t("code",[A._v("GitLab URL")]),A._v("这一步了，我是本地启动了一个"),t("code",[A._v("gitlab")]),A._v("服务，方便测试，先是没有启用"),t("code",[A._v("https")]),A._v("，"),t("code",[A._v("sonar")]),A._v("使用用户"),t("code",[A._v("gitlab")]),A._v("，报没有权限。")]),A._v(" "),t("p",[A._v("接着启用了"),t("code",[A._v("https")]),A._v("，但证书不对，又在网上找了个程序，生成一个本地测试的证书，仍是没有权限。")]),A._v(" "),t("p",[A._v("到"),t("code",[A._v("sonar")]),A._v("的日志文件里看错误信息：")]),A._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[A._v("web[AXbXAPJgc5Bvl4oAAAGv][o.s.s.a.AuthenticationError] Fail to callback authentication with 'gitlab'\njava.lang.IllegalStateException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n")])])]),t("p",[A._v("网上查，说还是证书问题，我进"),t("code",[A._v("sonar")]),A._v("容器内部，把证书导入，还是不行。")]),A._v(" "),t("p",[A._v("最后让同事看了下，他在公网环境搭建的没有问题，让我申请个正式的证书试试。于是，我又申请了个免费的证书，给了"),t("code",[A._v("gitlab")]),A._v("后，就可以了。")]),A._v(" "),t("p",[A._v("所以，这里"),t("code",[A._v("GitLab URL")]),A._v("一定要用"),t("code",[A._v("https")]),A._v("，而且证书一定要正式才行。")]),A._v(" "),t("h2",{attrs:{id:"配置server-base-url"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置server-base-url"}},[A._v("#")]),A._v(" 配置Server base URL")]),A._v(" "),t("p",[A._v("还是刚才的"),t("code",[A._v("Configuration")]),A._v("菜单下，找到"),t("code",[A._v("General")]),A._v("，再找到"),t("code",[A._v("Server base URL")]),A._v("，输入你的"),t("code",[A._v("sonar")]),A._v("服务器地址，我的是："),t("code",[A._v("http://192.168.21.176:9000")]),A._v("。")]),A._v(" "),t("p",[A._v("如果没有这一步，默认会是"),t("code",[A._v("http://localhost:9000")]),A._v("。")]),A._v(" "),t("h2",{attrs:{id:"登陆"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#登陆"}},[A._v("#")]),A._v(" 登陆")]),A._v(" "),t("p",[A._v("回到登陆页，就可以看到以下页面，点击跳转登陆就可以了：\n"),t("img",{attrs:{src:v(365),alt:"login"}})])])}),[],!1,null,null,null);e.default=s.exports}}]);