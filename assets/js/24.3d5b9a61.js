(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{390:function(e,a,t){"use strict";t.r(a);var s=t(25),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"deepin安装docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deepin安装docker"}},[e._v("#")]),e._v(" deepin安装docker")]),e._v(" "),t("p",[e._v("一般在"),t("code",[e._v("Linux")]),e._v("中安装"),t("code",[e._v("docker")]),e._v("的时候都会使用这条命令")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("wget -qO- https://get.docker.com/ | sh\n")])])]),t("p",[e._v("而在"),t("code",[e._v("deepin")]),e._v("这么做却不行")]),e._v(" "),t("p",[e._v("打开网址即可发现支持的"),t("code",[e._v("docker")]),e._v("支持的版本有")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("x86_64-centos-7\nx86_64-fedora-28\nx86_64-fedora-29\nx86_64-debian-jessie\nx86_64-debian-stretch\nx86_64-debian-buster\nx86_64-ubuntu-trusty\nx86_64-ubuntu-xenial\nx86_64-ubuntu-bionic\nx86_64-ubuntu-cosmic\ns390x-ubuntu-xenial\ns390x-ubuntu-bionic\ns390x-ubuntu-cosmic\nppc64le-ubuntu-xenial\nppc64le-ubuntu-bionic\nppc64le-ubuntu-cosmic\naarch64-ubuntu-xenial\naarch64-ubuntu-bionic\naarch64-ubuntu-cosmic\naarch64-debian-jessie\naarch64-debian-stretch\naarch64-debian-buster\naarch64-fedora-28\naarch64-fedora-29\naarch64-centos-7\narmv6l-raspbian-jessie\narmv7l-raspbian-jessie\narmv6l-raspbian-stretch\narmv7l-raspbian-stretch\narmv7l-debian-jessie\narmv7l-debian-stretch\narmv7l-debian-buster\narmv7l-ubuntu-trusty\narmv7l-ubuntu-xenial\narmv7l-ubuntu-bionic\narmv7l-ubuntu-cosmic\n")])])]),t("p",[e._v("这里我是使用的"),t("code",[e._v("deepin20")]),e._v("的版本，而"),t("code",[e._v("deepin")]),e._v("是基于"),t("code",[e._v("debian")]),e._v("的，可以看到"),t("code",[e._v("debian8.0")]),e._v("，即上述"),t("code",[e._v("x86_64-debian-jessie")]),e._v("进行的深度开发")]),e._v(" "),t("p",[t("code",[e._v("deepin")]),e._v("是基于"),t("code",[e._v("debian")]),e._v("的"),t("code",[e._v("sid")]),e._v("版进行的开发，不是"),t("code",[e._v("docker")]),e._v("官方认证的"),t("code",[e._v("stable")]),e._v("版本，故而没有支持")]),e._v(" "),t("h2",{attrs:{id:"正确安装docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#正确安装docker"}},[e._v("#")]),e._v(" 正确安装"),t("code",[e._v("docker")])]),e._v(" "),t("p",[e._v("下面就按照网上通用的方法来安装")]),e._v(" "),t("ol",[t("li",[e._v("如果以前安装过老版本，请先卸载以前版本")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sudo apt-get remove docker.io docker-engine\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("安装docker-ce与密钥管理与下载相关依赖工具")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sudo apt-get install apt-transport-https ca-certificates curl python-software-properties software-properties-common\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[e._v("下载并安装密匙")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -\n")])])]),t("p",[e._v("如果成功则会返回OK")]),e._v(" "),t("p",[e._v("如果不成功（docker官方在墙外，需科学上网），则使用国内镜像源将上述命令换成")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("curl -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/debian/gpg | sudo apt-key add -\n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[e._v("验证是否安装成功")])]),e._v(" "),t("p",[e._v("sudo apt-key fingerprint 0EBFCD88")]),e._v(" "),t("ol",{attrs:{start:"5"}},[t("li",[e._v("添加软件源")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('sudo add-apt-repository  "deb [arch=amd64] https://download.docker.com/linux/debian jessie stable"\n')])])]),t("p",[e._v("如果要翻墙的，请添加下面的源")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('sudo add-apt-repository "deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/debian jessie stable"\n')])])]),t("p",[e._v("但我的版本"),t("code",[e._v("deepin-20Beta-desktop-amd64")]),e._v("报错。")]),e._v(" "),t("p",[e._v("这条命令主要就是在我们的软件源列表里加一行docker的源，执行这条命令的时候会报错，我们通过lsb_release -cs命令可以看到我们的系统发行版信息，得到结果是 stable ，因为目前docker官方并没有针对stable的版本，所以我选择手动添加一下源,直接编辑 "),t("code",[e._v("/etc/apt/sources.list")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sudo vim /etc/apt/sources.list  \n#文件最后添加一行 \ndeb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/debian stretch stable \n# :qw 保存退出\n")])])]),t("ol",{attrs:{start:"6"}},[t("li",[e._v("安装docker")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sudo apt-get update\nsudo apt-get install docker-ce\ndocker version\ndocker run hello-world\n")])])]),t("ol",{attrs:{start:"7"}},[t("li",[e._v("配置完善docker")])]),e._v(" "),t("p",[t("code",[e._v("docker")]),e._v("默认只能"),t("code",[e._v("root")]),e._v("用户启用")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sudo usermod -aG docker username\n")])])]),t("p",[e._v("用上面命令可以使"),t("code",[e._v("docker")]),e._v("普通用户也能")]),e._v(" "),t("p",[e._v("如果还是因为网络原因，"),t("code",[e._v("docker")]),e._v("下载镜像很慢")]),e._v(" "),t("p",[e._v("这里可以根据个人爱好切换加速器")]),e._v(" "),t("p",[e._v("编辑"),t("code",[e._v("/etc/docker/daemon.json")]),e._v("文件")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"registry-mirrors"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://registry.docker-cn.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h2",{attrs:{id:"开机启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开机启动"}},[e._v("#")]),e._v(" 开机启动")]),e._v(" "),t("p",[e._v("最后提一点，"),t("code",[e._v("docker")]),e._v("在"),t("code",[e._v("deepin")]),e._v("中默认是开机启动")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# 安装chkconfig\nsudo apt-get install chkconfig\n# 移除自启\nsudo chkconfig --del docker\n")])])]),t("p",[e._v("关闭开机自启就可以了")]),e._v(" "),t("blockquote",[t("p",[e._v("本文参考：")])]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.cnblogs.com/wh4am1/p/10263272.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("在Deepin中安装docker"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://blog.csdn.net/u011862015/article/details/105674376",target:"_blank",rel:"noopener noreferrer"}},[e._v("Deepin系统安装docker"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=r.exports}}]);