<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>gulp小结 | 帝之下都</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="shortcut icon" href="/docs/images/favicon.ico">
    <meta name="description" content="">
    
    <link rel="preload" href="/docs/assets/css/0.styles.2486ecd9.css" as="style"><link rel="preload" href="/docs/assets/js/app.f6e97648.js" as="script"><link rel="preload" href="/docs/assets/js/2.793e3b27.js" as="script"><link rel="preload" href="/docs/assets/js/20.0ff2d59c.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.fed05d33.js"><link rel="prefetch" href="/docs/assets/js/100.75e9de39.js"><link rel="prefetch" href="/docs/assets/js/101.02b71521.js"><link rel="prefetch" href="/docs/assets/js/102.3b98358a.js"><link rel="prefetch" href="/docs/assets/js/103.04976126.js"><link rel="prefetch" href="/docs/assets/js/11.42050f1c.js"><link rel="prefetch" href="/docs/assets/js/12.5ed91251.js"><link rel="prefetch" href="/docs/assets/js/13.760ba031.js"><link rel="prefetch" href="/docs/assets/js/14.fbcf57fe.js"><link rel="prefetch" href="/docs/assets/js/15.e7d172b7.js"><link rel="prefetch" href="/docs/assets/js/16.efc29a58.js"><link rel="prefetch" href="/docs/assets/js/17.bf0efcec.js"><link rel="prefetch" href="/docs/assets/js/18.43607bc5.js"><link rel="prefetch" href="/docs/assets/js/19.249adea3.js"><link rel="prefetch" href="/docs/assets/js/21.86a40b0c.js"><link rel="prefetch" href="/docs/assets/js/22.0c4688a1.js"><link rel="prefetch" href="/docs/assets/js/23.91d70a7b.js"><link rel="prefetch" href="/docs/assets/js/24.3d5b9a61.js"><link rel="prefetch" href="/docs/assets/js/25.0e41904b.js"><link rel="prefetch" href="/docs/assets/js/26.e0a62fe9.js"><link rel="prefetch" href="/docs/assets/js/27.30fb029e.js"><link rel="prefetch" href="/docs/assets/js/28.f90766af.js"><link rel="prefetch" href="/docs/assets/js/29.2ee1cc61.js"><link rel="prefetch" href="/docs/assets/js/3.1503391c.js"><link rel="prefetch" href="/docs/assets/js/30.89f6c4b1.js"><link rel="prefetch" href="/docs/assets/js/31.ad837c60.js"><link rel="prefetch" href="/docs/assets/js/32.52ae32c9.js"><link rel="prefetch" href="/docs/assets/js/33.065b8fee.js"><link rel="prefetch" href="/docs/assets/js/34.a3c50501.js"><link rel="prefetch" href="/docs/assets/js/35.3742e7ec.js"><link rel="prefetch" href="/docs/assets/js/36.aa190ca1.js"><link rel="prefetch" href="/docs/assets/js/37.bcfeb241.js"><link rel="prefetch" href="/docs/assets/js/38.87a44621.js"><link rel="prefetch" href="/docs/assets/js/39.2b181812.js"><link rel="prefetch" href="/docs/assets/js/4.339bc79a.js"><link rel="prefetch" href="/docs/assets/js/40.a1ceb441.js"><link rel="prefetch" href="/docs/assets/js/41.f4074c22.js"><link rel="prefetch" href="/docs/assets/js/42.fb708ddd.js"><link rel="prefetch" href="/docs/assets/js/43.5d23f2a5.js"><link rel="prefetch" href="/docs/assets/js/44.96f2f1f8.js"><link rel="prefetch" href="/docs/assets/js/45.9610846c.js"><link rel="prefetch" href="/docs/assets/js/46.c9183423.js"><link rel="prefetch" href="/docs/assets/js/47.5933b74e.js"><link rel="prefetch" href="/docs/assets/js/48.1395cfd7.js"><link rel="prefetch" href="/docs/assets/js/49.06f773b5.js"><link rel="prefetch" href="/docs/assets/js/5.1ffab86f.js"><link rel="prefetch" href="/docs/assets/js/50.bbcdc7fc.js"><link rel="prefetch" href="/docs/assets/js/51.cbc60f68.js"><link rel="prefetch" href="/docs/assets/js/52.716462d4.js"><link rel="prefetch" href="/docs/assets/js/53.5db04ef8.js"><link rel="prefetch" href="/docs/assets/js/54.ec0d945c.js"><link rel="prefetch" href="/docs/assets/js/55.248a9b45.js"><link rel="prefetch" href="/docs/assets/js/56.09f734f5.js"><link rel="prefetch" href="/docs/assets/js/57.debd0eae.js"><link rel="prefetch" href="/docs/assets/js/58.da917dc3.js"><link rel="prefetch" href="/docs/assets/js/59.b48ef98f.js"><link rel="prefetch" href="/docs/assets/js/6.1f492624.js"><link rel="prefetch" href="/docs/assets/js/60.b547a796.js"><link rel="prefetch" href="/docs/assets/js/61.5a2527ab.js"><link rel="prefetch" href="/docs/assets/js/62.769dd34e.js"><link rel="prefetch" href="/docs/assets/js/63.03433dfa.js"><link rel="prefetch" href="/docs/assets/js/64.a892881e.js"><link rel="prefetch" href="/docs/assets/js/65.6f632179.js"><link rel="prefetch" href="/docs/assets/js/66.ee877b7b.js"><link rel="prefetch" href="/docs/assets/js/67.fab8e4eb.js"><link rel="prefetch" href="/docs/assets/js/68.a6780b45.js"><link rel="prefetch" href="/docs/assets/js/69.6bb021ed.js"><link rel="prefetch" href="/docs/assets/js/7.0fc26f95.js"><link rel="prefetch" href="/docs/assets/js/70.0c446e1b.js"><link rel="prefetch" href="/docs/assets/js/71.3c94982e.js"><link rel="prefetch" href="/docs/assets/js/72.c5086532.js"><link rel="prefetch" href="/docs/assets/js/73.84611fa8.js"><link rel="prefetch" href="/docs/assets/js/74.821e73ea.js"><link rel="prefetch" href="/docs/assets/js/75.93372814.js"><link rel="prefetch" href="/docs/assets/js/76.32805d69.js"><link rel="prefetch" href="/docs/assets/js/77.8b6e001b.js"><link rel="prefetch" href="/docs/assets/js/78.73fca068.js"><link rel="prefetch" href="/docs/assets/js/79.3237b4d0.js"><link rel="prefetch" href="/docs/assets/js/8.20ef8cbd.js"><link rel="prefetch" href="/docs/assets/js/80.f04b3cd2.js"><link rel="prefetch" href="/docs/assets/js/81.0b928fef.js"><link rel="prefetch" href="/docs/assets/js/82.1f68c39e.js"><link rel="prefetch" href="/docs/assets/js/83.bb107f03.js"><link rel="prefetch" href="/docs/assets/js/84.d8762f0f.js"><link rel="prefetch" href="/docs/assets/js/85.4fbed6b0.js"><link rel="prefetch" href="/docs/assets/js/86.533661f8.js"><link rel="prefetch" href="/docs/assets/js/87.2fb845a3.js"><link rel="prefetch" href="/docs/assets/js/88.fd812499.js"><link rel="prefetch" href="/docs/assets/js/89.f75cb59b.js"><link rel="prefetch" href="/docs/assets/js/9.5338c914.js"><link rel="prefetch" href="/docs/assets/js/90.78199bc6.js"><link rel="prefetch" href="/docs/assets/js/91.c80e96b7.js"><link rel="prefetch" href="/docs/assets/js/92.a41f9223.js"><link rel="prefetch" href="/docs/assets/js/93.8bd795d4.js"><link rel="prefetch" href="/docs/assets/js/94.6d017679.js"><link rel="prefetch" href="/docs/assets/js/95.331edcc1.js"><link rel="prefetch" href="/docs/assets/js/96.f14d1f9f.js"><link rel="prefetch" href="/docs/assets/js/97.c57cf0ad.js"><link rel="prefetch" href="/docs/assets/js/98.635b673f.js"><link rel="prefetch" href="/docs/assets/js/99.65b10748.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.2486ecd9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">帝之下都</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><span class="title">技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术" class="mobile-dropdown-title"><span class="title">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/note/js/" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/docs/note/go/" class="nav-link">
  go
</a></li><li class="dropdown-item"><!----> <a href="/docs/note/web/" class="nav-link">
  web
</a></li><li class="dropdown-item"><!----> <a href="/docs/note/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/note/linux/" class="nav-link">
  linux
</a></li><li class="dropdown-item"><!----> <a href="/docs/note/docker/" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/docs/note/cicd/" class="nav-link router-link-active">
  持续集成
</a></li></ul></div></div> <a href="https://github.com/jiawei397/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><span class="title">技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术" class="mobile-dropdown-title"><span class="title">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/note/js/" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/docs/note/go/" class="nav-link">
  go
</a></li><li class="dropdown-item"><!----> <a href="/docs/note/web/" class="nav-link">
  web
</a></li><li class="dropdown-item"><!----> <a href="/docs/note/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/note/linux/" class="nav-link">
  linux
</a></li><li class="dropdown-item"><!----> <a href="/docs/note/docker/" class="nav-link">
  docker
</a></li><li class="dropdown-item"><!----> <a href="/docs/note/cicd/" class="nav-link router-link-active">
  持续集成
</a></li></ul></div></div> <a href="https://github.com/jiawei397/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>gulp小结</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/note/cicd/gulp.html#gulp是什么" class="sidebar-link">gulp是什么？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/note/cicd/gulp.html#为什么要使用它" class="sidebar-link">为什么要使用它？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/note/cicd/gulp.html#和grunt、webpack的区别" class="sidebar-link">和grunt、webpack的区别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/note/cicd/gulp.html#为什么要用4-0" class="sidebar-link">为什么要用4.0？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/note/cicd/gulp.html#npm包管理" class="sidebar-link">npm包管理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/note/cicd/gulp.html#怎么安装" class="sidebar-link">怎么安装</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/note/cicd/gulp.html#几个api" class="sidebar-link">几个API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/note/cicd/gulp.html#gulp-src-globs-options" class="sidebar-link">gulp.src(globs[, options])</a></li><li class="sidebar-sub-header"><a href="/docs/note/cicd/gulp.html#gulp-dest-path-options" class="sidebar-link">gulp.dest(path[, options])</a></li><li class="sidebar-sub-header"><a href="/docs/note/cicd/gulp.html#gulp-watch-glob-opts" class="sidebar-link">gulp.watch(glob[, opts])</a></li></ul></li><li><a href="/docs/note/cicd/gulp.html#基本插件" class="sidebar-link">基本插件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/note/cicd/gulp.html#明星插件" class="sidebar-link">明星插件</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="gulp小结"><a href="#gulp小结" class="header-anchor">#</a> gulp小结</h1> <p></p><div class="table-of-contents"><ul><li><a href="#gulp是什么">gulp是什么？</a></li><li><a href="#为什么要使用它">为什么要使用它？</a></li><li><a href="#和grunt、webpack的区别">和grunt、webpack的区别</a></li><li><a href="#为什么要用4-0">为什么要用4.0？</a></li><li><a href="#npm包管理">npm包管理</a></li><li><a href="#怎么安装">怎么安装</a></li><li><a href="#几个api">几个API</a><ul><li><a href="#gulp-src-globs-options">gulp.src(globs[, options])</a></li><li><a href="#gulp-dest-path-options">gulp.dest(path[, options])</a></li><li><a href="#gulp-watch-glob-opts">gulp.watch(glob[, opts])</a></li></ul></li><li><a href="#基本插件">基本插件</a></li><li><a href="#明星插件">明星插件</a></li></ul></div><p></p> <h2 id="gulp是什么"><a href="#gulp是什么" class="header-anchor">#</a> gulp是什么？</h2> <p>一个自动化构建工具，基于<code>nodejs</code>的自动任务运行器。</p> <h2 id="为什么要使用它"><a href="#为什么要使用它" class="header-anchor">#</a> 为什么要使用它？</h2> <p>易于使用，易于学习。它能自动化地完成<code>javascript/coffee/sass/less/html/image/css</code> 等文件的的测试、检查、合并、压缩、格式化、浏览器自动刷新、部署文件生成，并监听文件在改动后重复指定的这些步骤。在实现上，她借鉴了<code>Unix</code>操作系统的管道（<code>pipe</code>）思想，前一级的输出，直接变成后一级的输入，使得在操作上非常简单。</p> <h2 id="和grunt、webpack的区别"><a href="#和grunt、webpack的区别" class="header-anchor">#</a> 和grunt、webpack的区别</h2> <p><code>gulp</code>和<code>grunt</code>非常类似，但相比于<code>grunt</code>的频繁<code>IO</code>操作，<code>gulp</code>的流操作，能更快地更便捷地完成构建工作。前两者定位是工具，<code>webpack</code>则是种模块化解决方案。</p> <p>说到 <code>browserify</code> / <code>webpack</code> ，那还要说到 <code>seajs</code> / <code>requirejs</code> 。这四个都是<code>JS模块化</code>的方案。其中<code>seajs</code> / <code>require</code> 是一种类型，<code>browserify</code> / <code>webpack</code> 是另一种类型。</p> <p><code>seajs</code> / <code>require</code> : 是一种在线&quot;编译&quot; 模块的方案，相当于在页面上加载一个 <code>CMD/AMD</code> 解释器。这样浏览器就认识了 <code>define</code>、<code>exports</code>、<code>module</code> 这些东西。也就实现了模块化。</p> <p><code>browserify</code> / <code>webpack</code> : 是一个预编译模块的方案，相比于上面 ，这个方案更加智能。</p> <p><code>gulp</code>也能调用<code>webpack</code>。</p> <h2 id="为什么要用4-0"><a href="#为什么要用4-0" class="header-anchor">#</a> 为什么要用4.0？</h2> <ul><li><p>组合任务。</p> <p>比如以前的<code>gulp</code>对多个异步任务很难控制，必须借助于第三方模块，如<code>run-sequence</code>、<code>event-stream</code>等，效果也并不理想。</p> <p>现在<code>gulp</code>带来了两个新的<code>api</code>：<code>gulp.series</code>【顺序】和<code>gulp.parallel</code>【并行】，这两个革命性的<code>api</code>将帮助开发者解决恼人的任务流程控制问题。</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//clear任务执行完后，才会执行copy</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&quot;build&quot;</span><span class="token punctuation">,</span>
  gulp<span class="token punctuation">.</span><span class="token function">series</span><span class="token punctuation">(</span><span class="token string">&quot;clear&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;copy&quot;</span><span class="token punctuation">)</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//inject:home和inject:list这2个任务同时执行</span>
 gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&quot;inject-all&quot;</span><span class="token punctuation">,</span>
  gulp<span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token string">&quot;inject:home&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;inject:list&quot;</span>
  <span class="token punctuation">)</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>小技巧：一个任务中需要立即执行一下任务，以前版本有<code>gulp run XX</code>，新的没有，但可以这样：</p> <div class="language-js extra-class"><pre class="language-js"><code>gulp<span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token string">'XX'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gulp<span class="token punctuation">.</span><span class="token function">series</span><span class="token punctuation">(</span><span class="token string">'XX'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>支持异步任务</p> <p>有3种方式确认<code>gulp</code>能够识别任务何时完成。后2者重要是<code>return</code></p></li> <li><p>回调</p></li> <li><p>返回一个流</p></li> <li><p>返回一个<code>Promise</code></p> <p>更多参见这篇文章：<a href="http://codecloud.net/10666.html" target="_blank" rel="noopener noreferrer">http://codecloud.net/10666.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h2 id="npm包管理"><a href="#npm包管理" class="header-anchor">#</a> npm包管理</h2> <p>包管理主要在根目录下的	<code>package.json</code>文件。
<code>scripts</code>中是一些<code>npm</code>的任务，<code>npm run dev</code> 即可执行。</p> <p><code>dependencies</code>是项目中必须的包，目前我们没有用到，只有个<code>vue</code>。
<code>devDependencies</code>是开发所用的包，发布到生产环境不需要的都放在这里，平时安装时需要用<code>npm install -save-dev XX</code>，可简写作<code>npm i -D XX</code>。</p> <p>同时安装多个包可以这样：<code>npm install -save-dev aa bb</code>。或者将包复制到<code>package</code>文件里，直接在根目录命令行里<code>npm i</code>或<code>npm install</code>。</p> <p><code>包的版本</code>：如<code>&quot;vue&quot;: &quot;^2.0.1&quot;</code></p> <p>一个完整的版本号组表示为： <code>[主要版本号，次要版本号，补丁版本号]</code></p> <ul><li><code>~</code>会匹配最新的子版本（中间那个数字），比如<code>~1.2.3</code>会匹配所有的<code>1.2.x</code>版本，但不匹配到<code>1.3.0</code>及以上</li> <li><code>^</code>会匹配最新的主版本（第一个数字），比如<code>^1.2.3</code>将会匹配所有的<code>1.x.x</code>版本，<code>2.0.0</code>就缓缓飘过了。</li></ul> <h2 id="怎么安装"><a href="#怎么安装" class="header-anchor">#</a> 怎么安装</h2> <ol><li>全局：<code>npm i gulp -g</code></li> <li>工程内部：<code>npm i -D gulp</code></li> <li>工程根目录下创建<code>gulpfile.js</code>，它是配置文件。一个任务类似<code>gulp.task('a',function(){})</code>;</li> <li>在<code>webstorm</code>中右键<code>gulpfile.js</code> 选择<code>Show Gulp Tasks</code>打开<code>Gulp</code>窗口，双击任务<code>a</code>即可。
或者在命令行中，输入<code>gulp a</code></li></ol> <h2 id="几个api"><a href="#几个api" class="header-anchor">#</a> 几个API</h2> <h3 id="gulp-src-globs-options"><a href="#gulp-src-globs-options" class="header-anchor">#</a> gulp.src(globs[, options])</h3> <p>输出符合所提供的匹配模式或者匹配模式的数组的文件。将返回一个流，它可以被 <code>pipe</code> 到别的插件中。</p> <div class="language-js extra-class"><pre class="language-js"><code>gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'client/templates/*.jade'</span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">jade</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">minify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'build/minified_templates'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">globs</p> <p><code>globs</code>可以是字符串，也可以是数组，相对路径或绝对路径都可以。举个例子：</p> <div class="language- extra-class"><pre class="language-text"><code>[&quot;src/**/*.html&quot;, &quot;!src/*.html&quot;, &quot;src/play.html&quot;]
</code></pre></div><p>表示目标是<code>src</code>下所有的<code>html</code>文件，但不包括根目录的<code>html</code>文件，却要包含根目录下<code>play.html</code>。</p></div> <div class="custom-block tip"><p class="custom-block-title">options</p> <p>通过 <code>glob-stream</code> 所传递给 <code>node-glob</code>的参数，可传可不传。</p> <ul><li><code>options.buffer</code>	类型： <code>Boolean</code> 默认值： <code>true</code></li></ul> <p>如果该项被设置为 <code>false</code>，那么将会以 <code>stream</code> 方式返回 <code>file.contents</code> 而不是文件 <code>buffer</code>的形式。这在处理一些大文件的时候将会很有用。</p> <ul><li><code>options.read</code>  类型：<code>Boolean</code> 默认值： <code>true</code></li></ul> <p>如果该项被设置为<code>false</code>，那么<code>file.contents</code>会返回空值（<code>null</code>），也就是并不会去读取文件。只获取文件路径，不需要读取内容时有用。</p> <ul><li><code>options.base</code></li></ul> <p>举个例子感受一下，比如一个路径为<code>client/js/somedir</code> 的目录中，有一个文件叫 <code>somefile.js</code> ：</p> <div class="language-js extra-class"><pre class="language-js"><code>gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'client/js/**/*.js'</span><span class="token punctuation">)</span> <span class="token comment">// 匹配 'client/js/somedir/somefile.js' 并且将 `base` 解析为 `client/js/`</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">minify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'build'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 写入 'build/somedir/somefile.js'</span>

gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'client/js/**/*.js'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> base<span class="token operator">:</span> <span class="token string">'client'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">minify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'build'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 写入 'build/js/somedir/somefile.js'</span>
</code></pre></div></div> <h3 id="gulp-dest-path-options"><a href="#gulp-dest-path-options" class="header-anchor">#</a> gulp.dest(path[, options])</h3> <p>能被 <code>pipe</code> 进来，并且将会写文件。并且重新输出（<code>emits</code>）所有数据，因此你可以将它 <code>pipe</code> 到多个文件夹。如果某文件夹不存在，将会自动创建。</p> <div class="custom-block tip"><p class="custom-block-title">path 类型： `String` or `Function`</p> <p>文件将被写入的路径（输出目录）。也可以传入一个函数，在函数中返回相应路径</p></div> <div class="custom-block tip"><p class="custom-block-title">options  类型： `Object`</p> <ul><li><code>options.cwd</code>    类型： <code>String</code> 默认值： <code>process.cwd()</code></li></ul> <p>输出目录的 <code>cwd</code> 参数，只在所给的输出目录是相对路径时候有效。</p> <ul><li><code>options.mode</code>  类型： <code>String</code> 默认值： <code>0777</code></li></ul> <p>八进制权限字符，用以定义所有在输出目录中所创建的目录的权限。</p></div> <h3 id="gulp-watch-glob-opts"><a href="#gulp-watch-glob-opts" class="header-anchor">#</a> gulp.watch(glob[, opts])</h3> <p>旧版本有个参数回调，比如：</p> <div class="language-js extra-class"><pre class="language-js"><code>gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">'js/**/*.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'File '</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>path <span class="token operator">+</span> <span class="token string">' was '</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>type <span class="token operator">+</span> <span class="token string">', running tasks...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>将变为：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> watcher <span class="token operator">=</span> gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">'js/**/*.js'</span> <span class="token comment">/* 你也可以在这儿传入一些选项与/或一个任务函数 */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
watcher<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'all'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> path<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'File '</span> <span class="token operator">+</span> path <span class="token operator">+</span> <span class="token string">' was '</span> <span class="token operator">+</span> event <span class="token operator">+</span> <span class="token string">', running tasks...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>或监听单独的事件类型，基本的3种：<code>增</code>、<code>删</code>、<code>改</code></p> <div class="language-js extra-class"><pre class="language-js"><code>watcher<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">path<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'File '</span> <span class="token operator">+</span> path <span class="token operator">+</span> <span class="token string">' was changed, running tasks...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

watcher<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'File '</span> <span class="token operator">+</span> path <span class="token operator">+</span> <span class="token string">' was added, running tasks...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

watcher<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'unlink'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'File '</span> <span class="token operator">+</span> path <span class="token operator">+</span> <span class="token string">' was removed, running tasks...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="基本插件"><a href="#基本插件" class="header-anchor">#</a> 基本插件</h2> <ul><li>引用文件夹：<code>require-dir</code></li> <li>压缩js：<code>gulp-uglify</code></li></ul> <details class="custom-block details"><summary>有细节可以配置</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   compress<span class="token operator">:</span> <span class="token punctuation">{</span>
     drop_console<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//删除console，默认false</span>
     drop_debugger<span class="token operator">:</span> <span class="token boolean">false</span><span class="token comment">//忽略debugger，默认true</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></details> <div class="custom-block tip"><p class="custom-block-title">es6</p> <p>如果要压缩<code>es6</code>，可以使用<code>gulp-terser</code></p></div> <ul><li>合并js：gulp-concat</li> <li>压缩图片：gulp-imagemin</li> <li>压缩html：gulp-htmlmin</li> <li>压缩css：gulp-clean-css</li> <li>压缩成zip包：gulp-zip</li></ul> <h2 id="明星插件"><a href="#明星插件" class="header-anchor">#</a> 明星插件</h2> <ul><li>简化书写gulp插件：<code>gulp-load-plugins</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> $ <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-load-plugins'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'from'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">if</span><span class="token punctuation">(</span>condition<span class="token punctuation">,</span>$<span class="token punctuation">.</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//去除前面的'gulp-'</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">cleanCss</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//原来名字叫gulp-clean-css，以驼峰形式使用</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>重命名：<code>gulp-rename</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'from'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">'XX'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>条件：<code>gulp-if</code></li></ul> <p>返回为<code>true</code>,调用后面的方法，其它不用。适用于既不愿意压缩或其它，但又必要将文件复制到指定目录的情况。</p> <div class="language-js extra-class"><pre class="language-js"><code>	gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'from'</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.min.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		    <span class="token punctuation">}</span>
		    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>缓存：<code>gulp-cache</code></li></ul> <p>非常有用，会将方法执行的结果缓存起来，当文件改变后，会重新执行方法，其它文件依然直接从缓存中读取结果。整个工程压缩完<code>js</code>需要2分钟以上，使用缓存后只需要1秒钟。<code>js</code>、<code>css</code>、图片这些大件耗时的都要用到。</p> <p>注意：方法配置修改以后，缓存就没用了，需要手动删除缓存文件夹</p> <div class="language-js extra-class"><pre class="language-js"><code>gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'from'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">cache</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      fileCache<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cache</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token string">&quot;cacheDirName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span><span class="token comment">//缓存文件夹名称，默认为gulp-cache</span>
        <span class="token string">&quot;tmpDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;D:\\Documents\\gulp-cache&quot;</span><span class="token comment">//指定一个本地的缓存目录，默认为C:\Users\Administrator\AppData\Local\Temp，建议换个目录，因为一般会当作垃圾清除掉</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'js'</span><span class="token comment">//缓存文件夹名称再下一级的子目录，本例类似：D:\\Documents\\gulp-cache\\test\\js</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>系统提醒：<code>gulp-notify</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'from'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">zip</span><span class="token punctuation">(</span><span class="token string">'map.zip'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>message<span class="token operator">:</span> <span class="token string">'map压缩完成'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>文件注入：<code>gulp-inject</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'from'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>cwd<span class="token operator">:</span> <span class="token string">&quot;./src/entry/&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">inject</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'XX'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>read<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> cwd<span class="token operator">:</span> <span class="token string">'XXdir'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      relative<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      starttag<span class="token operator">:</span> <span class="token string">&quot;&lt;!-- start:pluginsJs --&gt;&quot;</span><span class="token punctuation">,</span>
      endtag<span class="token operator">:</span> <span class="token string">&quot;&lt;!-- end:pluginsJs --&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">transform</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">filePath<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'&lt;script src=&quot;'</span> <span class="token operator">+</span> filePath<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'&quot;&gt;'</span> <span class="token operator">+</span> <span class="token string">'&lt;'</span> <span class="token operator">+</span> <span class="token string">'/script&gt;'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><p>回调地狱终结者：<code>q</code></p> <p><code>q</code>就是一个<code>Promise</code>库，提供额外的接口可以封装普通函数为<code>Promise</code>。
详见：<a href="http://blog.csdn.net/ii1245712564/article/details/51419533" title="q.js" target="_blank" rel="noopener noreferrer">http://blog.csdn.net/ii1245712564/article/details/51419533<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <p>当然，现在完全可以使用<code>async/await</code>代替。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/jiawei397/docs/edit/master/docs/note/cicd/gulp.md" target="_blank" rel="noopener noreferrer">提出宝贵意见</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.f6e97648.js" defer></script><script src="/docs/assets/js/2.793e3b27.js" defer></script><script src="/docs/assets/js/20.0ff2d59c.js" defer></script>
  </body>
</html>
